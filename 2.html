<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
</head>


<body>
    <div id="row">
        <header>
            <h1>국뽕</h1>
            <div class="hbar"></div>
        </header>
        <div id="grid">
            <nav>
                <ol>
                    <li>
                        <a href="1.html">애국가</a>
                    </li>
                    <li>
                        <a href="2.html">국기에대한 맹세</a>
                    </li>
                    <li>
                        <a href="3.html">국민교육 헌장</a>
                    </li>
                    <li><a href="4.html">태극기</a></li>
                </ol>
                <div class="vbar"></div>

            </nav>
            <section>
                <h1>국기에대한 맹세</h1>
                나는 자랑스러운 태극기 앞에 자유롭고 정의로운 대한민국의 무궁한 영광을 위하여 충성을 다할 것을 굳게 다짐합니다.
            </section>
        </div>
    </div>
    <script>
        var MIN = 100;
        
        var x = 0; 
        var riX = 0;
        var tX = document.documentElement.offsetWidth;    
        var RMAX = tX-200;


        var isMoving = false;
        var BAR = document.querySelectorAll("#grid nav div.vbar")[0];
        var GRID = document.getElementById("grid");
        console.log(BAR);
        console.log(GRID);

        BAR.addEventListener("mousedown", function (e) {
            x = e.pageX;
       
            isMoving = true;
        });

        window.addEventListener("mousemove", function (e) {
            if (isMoving) {
             

                movingBar(GRID, x, e.pageX);

                x = e.pageX;
                
            }

        });

        window.addEventListener("mouseup", function (e) {
            if (isMoving) {
                movingBar(GRID, x, e.pageX);
            }
            isMoving = false;
            x = 0;
           



        });

        function movingBar(obj, bx, cx) {
            var gx = window.getComputedStyle(obj).gridTemplateColumns.split(" ")[0].replace(/[^0-9]/g, "");    //정규식 표현 ex "250.44".replace(/[^0-9\.]/g, "");



            var dx = cx - bx;
            var rx = (parseInt(gx, 10)) + dx;
           
            if(rx < MIN){
                rx = MIN;
              
             }else if(rx>RMAX){
                 rx = RMAX;
             }
            
            console.log(RMAX);    
            GRID.style.gridTemplateColumns = rx + "px auto";

            
        }


    </script>
</body>


</html>